<ui:composition
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
     xmlns:p="http://primefaces.org/ui"
     xmlns:h="http://xmlns.jcp.org/jsf/html"
     template="/templates/main.xhtml"
     xmlns:b="http://bootsfaces.net/ui"
     xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name="title">
       Tutor
    </ui:define>
    
    <ui:define name="barra-lateral">
        <ui:include src="/snippets/menu_tutor.xhtml" />
    </ui:define>
    
    <ui:define name="contenido">
            
            
             <br/><br/>
          
            <legend><center><h:outputLabel value="Documentos"/></center></legend>
            
        
            
            <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
   
           
                        </div>
                        
                        
                        
            
                        <div class="panel-body">
                                <div class="table-responsive">
                  <h:form enctype="multipart/form-data" role="form">
               
                                    <b:dataTable  class="table table-striped table-bordered table-hover" var="campo" value="#{citasAgendadas.getVisitasTutor(login.user)}">
                               
                                <b:dataTableColumn label="Nombre estudiante" >                   

                                    <b:column >
                                        <h:outputText value="#{citasAgendadas.getNombre(campo.estudiante.cedula)}&#160;#{citasAgendadas.getApellido_est(campo.estudiante.cedula)}" />
                                    </b:column>
                                </b:dataTableColumn>
                                <b:dataTableColumn label="Documentos para descargar">                   
                                    <b:column >
               
                             <label>Descargar el informe tutor</label><br/>
                             <h:commandButton action="#{uploadFile.download_file_tut(200,campo.estudiante.cedula)}" value="Descarga PDF"/>
                                       <br/>
                                     
                                <!--   <label>Descargar el informe seguimiento tutor</label><br/>
                                 
                              <h:commandButton action="{uploadFile.download_file_tut(201,campo.estudiante.cedula)}" value="Descarga PDF"/>
                                     <br/>
                                     <br/>
                                       
                                       <label>Descargar hoja de ruta</label><br/>
                                 
                                 <h:commandButton action="{uploadFile.download_file_tut(202,campo.estudiante.cedula)}" value="Descarga PDF"/>
                                  -->
                                    </b:column>
                                        
                                </b:dataTableColumn>
                                
                                <b:dataTableColumn label="Cargar documentos">                   
                                    <b:column >
                                        <div class="form-group">
                                                
                                            <label>Informe Tutor <i class="fa fa-file-pdf-o fa-2x"></i></label>    &#160;&#160;&#160;&#160;&#160;  
               
                                
                               <h:inputFile value="#{uploadFile.file}" required="true">
                                   <f:ajax listener="#{uploadFile.save_file_tut(1,campo.estudiante.cedula )}"/>
                                     
                            </h:inputFile>      
                                         <br/>
                                       <label>   Informe seguimiento <i class="fa fa-file-pdf-o fa-2x"></i> </label> 
               
                                
                               <h:inputFile value="#{uploadFile.file}" required="true">
                                   <f:ajax listener="#{uploadFile.save_file_tut(2,campo.estudiante.cedula )}"/>
                                     
                            </h:inputFile>     
                                       
                                    <!--   
                                      <label>     Hoja de ruta <i class="fa fa-file-pdf-o fa-2x"></i></label>  
                                      <h:form enctype="multipart/form-data" role="form">
               
                                
                               <h:inputFile value="{uploadFile.file}" required="true">
                                   <f:ajax listener="{uploadFile.save_file_tut(3,campo.estudiante.cedula )}"/>
                                     
                            </h:inputFile>      
                                     </h:form>
                                      -->
                                        </div>
                                    </b:column>
                                </b:dataTableColumn>
                                 <b:dataTableColumn label="Acciones">                   
                                     <b:column >
                                              <h:commandLink class="btn btn-success"  action="#{uploadFile.enviar_arch_msj(2)}" >
                            Enviar <f:ajax execute="@form"></f:ajax>
                        </h:commandLink>
                                     </b:column>
                                 </b:dataTableColumn>
                            </b:dataTable>
               </h:form>
                      
                        </div>

                            
                            </div>
                          
                        </div>
                        <!-- /.panel-body -->
                    </div>
                    <!-- /.panel -->
                </div>
                <!-- /.col-lg-12 -->
        
            
   

                
   
      
    </ui:define>
    
</ui:composition>