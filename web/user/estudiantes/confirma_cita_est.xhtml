<ui:composition
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
     xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
     template="/templates/main.xhtml">
    
    <ui:define name="title">
        Estudiante
    </ui:define>
    
    <ui:define name="barra-lateral">
        <ui:include src="/snippets/menu_estudiante.xhtml" />
    </ui:define>
    
    <ui:define name="contenido">
         <h:form>
             
            <br/><br/>
          
            <legend><center><h:outputLabel value="Cita"/></center></legend>
            <br/><br/>
          <div class="row" >
                <div class="col-lg-12">
                      
             <div class="panel panel-default">
                    <div class="panel-heading">
                        Confirmar cita
                    </div>
            <div class="panel-body">
                 <div class="row">
                      <div class="col-lg-1" >
                      </div>
                     <div class="col-lg-10" >
                        <div class="table-responsive">
                             
                            <h:dataTable  class="table table-striped table-bordered table-hover" var="campo" value="#{confirmaCita.getVisitas(login.user)}">
                              
                                    <h:column  >
                                       
                                        <div class="col-lg-2" >
                                        Tutor: 
                                        </div>
                                        <div class="col-lg-10" >
                                        <h:outputText value="#{campo.id_visita}" />
                                        </div>
                                    <br/><br/>
                                       <div class="col-lg-2" >
                                      Dia: 
                                      </div>
                                    <div class="col-lg-10" >
                                      <h:outputText value="#{campo.fecha_visita}" />
                                      </div>
                                       <br/><br/>
                                      <div class="col-lg-2" >
                                      Fecha: 
                                      </div>
                                       <div class="col-lg-10" >
                                      <h:outputText value="#{campo.fecha_visita}" />
                                   </div>
                                      <br/> <br/>          
                                   <div class="col-lg-2" >
                                       Hora:
                                       </div>
                                       <div class="col-lg-10" >
                                       <h:outputText value="#{campo.hora_visita}" />
                                       </div>
                                        <br/>  <br/> 
                                        <div class="col-lg-6" >
                                        Observación:
                                         </div>
                                        <br/>
                                        <div class="col-lg-12" >
                                   <h:inputTextarea  class="form-control" rows="3"  />
                                   </div>
                                   <br/>   <br/><br/>   <br/><br/>
                                   <div class="col-lg-12" >
                                       <h:column rendered="#{campo.confirmada == true eq false}">
             <center> <button type="button" class="btn btn-primary"   data-toggle="modal" data-target="#myModal"  >Enviar</button> &#160; <button type="button" class="btn btn-default" data-dismiss="modal" >Cancelar</button></center>
    			          </h:column>
                                   </div>
                                   <div class="col-lg-12" >
                                       <h:column rendered="#{campo.confirmada == true eq true}">
                                           Notificación: <h:outputLabel value="Ud ya cuanta con una cita." />
            	          </h:column>
                                   </div>
                                        
                                    </h:column>
                              
                            </h:dataTable>
 
                         </div>        
                        </div>
                     <div class="col-lg-1" >
                      </div>
                     </div> 
                             <div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h4 class="modal-title">Alerta!!!</h4>
      </div>
      <div class="modal-body">
          Seguro desea realizar el envio?
         </div>
      <div class="modal-footer">
          
          <h:dataTable class="table table-striped table-bordered table-hover" var="campo" value="#{confirmaCita.getVisitas(login.user)}">
                              
              <h:column>                   
                                   
                                        <h:commandButton class="btn btn-primary" value="SI" action="#{controllerBean.updateVisita(campo.id_visita)}"  />
                                    <button type="button" class="btn btn-default" data-dismiss="modal" >NO</button>
                                </h:column>
                                                 
                                   
                            </h:dataTable>

          
      </div>
    </div>

  </div>
</div>
                        
                        <!-- /.table-responsive -->
                    </div>
            </div>
                 </div>
            </div>
            
            <br/>
                
               
                <center>
                    <h:inputTextarea  class="form-control" rows="3"  rendered="#{controllerBean.observaciones.length() > 0 eq true}"  />
            
                <br/>
                
                <h:commandButton  class="btn btn-primary" value="Enviar" rendered="#{controllerBean.observaciones.length() > 0 eq true}" />
            
            </center>
                
        </h:form>
    </ui:define>
    
</ui:composition>
