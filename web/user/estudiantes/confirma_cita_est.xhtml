<ui:composition
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
     xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
     template="/templates/main.xhtml">
    
    <ui:define name="title">
        Estudiante
    </ui:define>
    
    <ui:define name="barra-lateral">
        <ui:include src="/snippets/menu_estudiante.xhtml" />
    </ui:define>
    
    <ui:define name="contenido">
         <h:form>
            
            
            <br/><br/>
          
            <legend><center><h:outputLabel value="Confirmar cita"/></center></legend>
            <br/><br/>
             <div class="panel panel-default">
                    <div class="panel-heading">
                        Notificaci√≥n de cita:
                    </div>
                  <div class="panel-body">
           <div class="table-responsive">
               <h:dataTable class="table table-striped table-bordered table-hover" var="campo2" value="#{confirmaCita.getConfirmaVisitas(login.user)}">
                               
                                <b:dataTableColumn >                   
                                    <b:column >
                                      Fecha:  <h:outputText value="#{campo2.fecha_visita}" />
                                   &#160;    Hora: <h:outputText value="#{campo2.hora_visita}" />
                                    </b:column>
                                </b:dataTableColumn>
                                


                            </h:dataTable>

                        </div>
                       </div>
                  </div>
            <br/><br/>
           
            
            <div class="panel-body">
                        <div class="table-responsive">
                            <b:dataTable class="table table-striped table-bordered table-hover" var="campo" value="#{confirmaCita.getVisitas(login.user)}">
                              
                                <b:dataTableColumn label="Nombre del tutor:" >                   

                                    <b:column>
                                        <h:outputText value="#{campo.id_visita}" />
                                    </b:column>
                                </b:dataTableColumn>
                                <b:dataTableColumn label="Fecha visita">                   
                                    <b:column >
                                        <h:outputText value="#{campo.fecha_visita}" />
                                    </b:column>
                                </b:dataTableColumn>
                                <b:dataTableColumn label="Hora visita">                   
                                    <b:column >
                                        <h:outputText value="#{campo.hora_visita}" />
                                    </b:column>
                                </b:dataTableColumn>
                                <b:dataTableColumn label="Aprobar">                   
                                   <center> <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal"  >Si</button> &#160; <h:commandButton class="btn btn-danger"  value="No" action="#{controllerBean.observacion()}" /> </center>
    			                   
                                </b:dataTableColumn>


                            </b:dataTable>

                        </div>
                             <div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h4 class="modal-title">Alerta!!!</h4>
      </div>
      <div class="modal-body">
          Seguro desea realizar el envio?
         </div>
      <div class="modal-footer">
          
          <h:dataTable class="table table-striped table-bordered table-hover" var="campo" value="#{confirmaCita.getVisitas(login.user)}">
                              
              <h:column>                   
                                   
                                        <h:commandButton class="btn btn-primary" value="SI" action="#{controllerBean.updateVisita(campo.id_visita)}"  />
                                    <button type="button" class="btn btn-default" data-dismiss="modal" >NO</button>
                                </h:column>
                                                 
                                   
                            </h:dataTable>

          
      </div>
    </div>

  </div>
</div>
                        
                        <!-- /.table-responsive -->
                    </div>
            
            
            
            <br/>
                
                <h:outputLabel value = "#{controllerBean.observaciones}" />
                <center>
                    <h:inputTextarea  class="form-control" rows="3"  rendered="#{controllerBean.observaciones.length() > 0 eq true}"  />
            
                <br/>
                
                <h:commandButton  class="btn btn-primary" value="Enviar" rendered="#{controllerBean.observaciones.length() > 0 eq true}" action="#{controllerBean.envioObservacion()}"/>
            
            </center>
                
        </h:form>
    </ui:define>
    
</ui:composition>
