<ui:composition
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
     template="/templates/main.xhtml"
     
     xmlns:h="http://xmlns.jcp.org/jsf/html"
     xmlns:b="http://bootsfaces.net/ui"
     xmlns:f="http://xmlns.jcp.org/jsf/core">
    
    <ui:define name="title">
       Tutor
    </ui:define>
    
    <ui:define name="barra-lateral">
    </ui:define>
    
    <ui:define name="contenido">
         <f:metadata>
    <f:viewParam name="id" value="#{datosFormatos.id}" />
    
</f:metadata>
         <h:form>
            
            

             <br/><br/>
          
            <legend><center><h:outputLabel value="Hoja de Ruta"/></center></legend>
             <div class="row">
                
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            Datos:
                    
                        </div>
                    <br/>
                    <br/>
                    
                    
                                <div class="table-responsive">
                    <h:dataTable var="campo1" value="#{datosFormatos.getPasantia(datosFormatos.id)}" >
                            <div class="col-lg-12"> 
                            <h:column >
                                <div class="col-lg-3">
                                    
                                <label for="disabledSelect">Entidad colaboradora: </label>
                                
                                </div>
                                
                                <div class="col-lg-3">
                                      
                                    <h:inputText class="form-control"  value="#{campo1.encargado.empresa.nombre_empresa}" disabled="true"/>
                              </div>
                                <div class="col-lg-3"> 
                                
                                <label for="disabledSelect">Direcci√≥n empresa: </label> 
                                </div>
                                <div class="col-lg-3">
                                    <h:inputText class="form-control"  value="#{campo1.encargado.empresa.direccion_empresa}" disabled="true"/>
                          <br/>
                                </div>
                                
                                 <div class="col-lg-3">
                                <label for="disabledSelect">Estudiante </label>
                                 </div>
                                <div class="col-lg-3">
                                           <h:inputText class="form-control"  value="#{citasAgendadas.getNombre(campo1.estudiante.cedula)}" disabled="true"/>
                            </div> 
                                 <div class="col-lg-12">
                                 <br/>
                                </div>
                                  
                                 <div class="col-lg-3">
                                    
                                <label for="disabledSelect">Docente coordinador: </label>
                                <br/>
                                </div>
                                <div class="col-lg-3">
                                  
                                    <h:inputText class="form-control"  value="#{citasAgendadas.getCoordinador()}" disabled="true"/>
                          
                                    <br/>
                                </div>
                                
                            </h:column>
                                    </div> 
                                         
                        </h:dataTable>
                                </div>
                    
                <br/>
                <br/>
                <center>
                    
                    
                    
                        <div class="panel-body">
                            <div class="table-responsive">
                                <h:dataTable class="table table-striped table-bordered table-hover" var="dato" value="#{citasAgendadas.getVisitasRealizadas(datosFormatos.id)}">
                                    <h:column >
                                        <tr>
                                            <td colspan="3" ><center><b>Visita</b></center></td>
                                   
                                            <td rowspan="2"><center><b>Tutor </b></center></td>
                                            <td rowspan="2"><center><b>Firma</b></center></td>
                                            <td rowspan="2"><center><b>Sello</b></center></td>
                                        <td rowspan="2"><center><b>Observaciones</b></center></td>
                                        <td rowspan="2"><center><b>Movilizacion</b></center></td>
                                        
                                            </tr>
                                        <tr>
                                            <td><center><b>Numero</b></center></td>
                                            <td><center><b>Fecha</b></center></td>
                                            <td><center><b>Hora</b></center></td>
                                            
                                           
                                        </tr>
                                    
                                        </h:column>
                                    <h:column>
                                   
                                        <tr>
                                            <td>#{dato.id_visita}</td>      
                                            <td>#{dato.fecha_visita}</td>
                                            <td>#{dato.hora_visita}</td>
                                            <td>#{citasAgendadas.getNombre(login.user)}</td>
                                            <td></td> 
                                            <td></td> 
                                            <td><h:inputText class="form-control"  value="#{tablasFormatos.observacionvisita}" required="true" /></td> 
                                            <td><h:inputText class="form-control"  value="#{tablasFormatos.movilizacionvisita}" required="true"/></td> 
                                        </tr>
                                    
                                        </h:column>
                                </h:dataTable>
                            </div>
                            <!-- /.table-responsive -->
                            
                            
                        </div>
                        <!-- /.panel-body -->
                 
                
                
</center>
                
                                           
                
                                            <br/>
                                            <br/>
                                            <center>
                                               
                                            <table>
                                                <tr> <td><center>  <hr color="blue" size="5" width="150"> </hr></center></td> 
                                                    <td>&#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;  
                                                    &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;
                                                    &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;
                                                    &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;</td>
                                                    <td><center>  <hr color="blue" size="5" width="150"></hr></center></td>
                                                                        </tr>
                                                <tr>
                                                    <td><center>     <label for="disabledSelect">Firma docente supervisor pasantias</label></center></td>
                                                   <td>&#160;&#160;&#160; &#160;  &#160;&#160;&#160; &#160;  
                                                   &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;
                                                   &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;
                                                   &#160;&#160;&#160; &#160; &#160;&#160;&#160; &#160;</td>
                                                <td><center>  <label for="disabledSelect">Firma director de carrera</label></center></td>      
                   
                                                    </tr>
                                                </table>
                                                </center>
                      <br/>
                      <br/>
                       <p align="right">
                   <b:button rendered="#{tablasFormatos.paso == false eq true}" onclick="$('.abrirPseudoClass').modal();tableWidgetVar.DataTable().responsive.recalc();" style="position:absolute;right:115px" value="Cancelar" look="danger"  ></b:button> 
                  <b:commandButton  rendered="#{tablasFormatos.paso == false eq true}"   action="#{tablasFormatos.informeRuta(datosFormatos.id)}"  value="Guardar" look="info"  ></b:commandButton>
                    &#160;&#160; </p>                    
                      
                  <center>                  
                  <h:dataTable var="campo" value="#{citasAgendadas.getVisitasRealizadas(datosFormatos.id)}" >
                               <h:column>
                           
                                   <b:button outcome="agendar_cita_tut.xhtml" rendered="#{tablasFormatos.paso == false eq false}"  ondblclick="#{controllerBean.updateVisitaAgendada(campo.id_visita,login.user,datosFormatos.id)}" value="Finalizar" look="success"  >
                             
                           </b:button>    </h:column>
                       </h:dataTable>
                      </center> 
                           
                 
              </div>
                 </div>
                </div>
            
            <br/><br/>
    <b:modal title="Estudiante Visitado" styleClass="abrirPseudoClass"
                         id="abrir">
                                  
                         <p>¬øEsta seguro que desea salir?</p>   
                         <p> Los cambios realizados se perderan</p>   
                         
                         <f:facet name="footer">
                             <b:button outcome="agendar_cita_tut.xhtml" class="btn btn-success " value="Si">
                                 
                             </b:button>
                             <b:button  dismiss="modal" class="btn btn-danger"  value="No">
                             </b:button>
                            
                             
                         </f:facet>
                     </b:modal> 
                    </h:form>
        
    </ui:define>
    
</ui:composition>
